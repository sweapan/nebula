<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.9.0"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Nebula: Application</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">Nebula
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.9.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_nebula_application.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The nebula application layer provides high level application utilities, such as gameplay systems.</p>
<h1><a class="anchor" id="NebulaApplicationGameSystem"></a>
Game system</h1>
<p>Nebula uses a database oriented approach to storing game entities and their respective properties.</p>
<p>The entity system currently consists of a couple of databases, the most important one being the world database. <br  />
The world database contains all entity data for active entities. <br  />
Properties are what define the entities' data. When an entity is created with a unique combination of properties, a new table will be created in the world database. These tables are referred to as entity "Categories". <br  />
Entity behaviour and logic is expressed via "managers" and "processors" that query the database for entities that fulfill certain property requirements, and then process each entity based on their properties states.</p>
<h2><a class="anchor" id="NebulaApplicationGameSystemEntities"></a>
Entities, Blueprints and Templates</h2>
<p>Entities are simply integer identifiers that are mapped to a category, and row within the category table. Entities are commonly created by instantiating data-driven blueprints and/or templates. <br  />
Blueprints are essentially category descriptions that just describe a named collection of properties. <br  />
Templates are derived from blueprints and describe specific property values for an instantiation of a entity. <br  />
Lets take an example: <br  />
 We declare an "Orc" blueprint that consists of four properties: Position, Health, Stats and Target.</p><ul>
<li>example_blueprints.json: <div class="fragment"><div class="line">{</div>
<div class="line">    &quot;blueprints&quot;: {</div>
<div class="line">        &quot;Orc&quot;: {</div>
<div class="line">            &quot;desc&quot;: &quot;A mean and green orc.&quot;,</div>
<div class="line">            &quot;properties&quot;: [</div>
<div class="line">                &quot;Position&quot;,</div>
<div class="line">                &quot;Health&quot;,</div>
<div class="line">                &quot;Stats&quot;,</div>
<div class="line">                &quot;Target&quot;</div>
<div class="line">            ]</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<p>Each and every instantiation of this Orc would have the same values (default set by the property definition) but we might want to have multiple different types of orcs. This is where we can use templates.</p><ul>
<li>templates/Orc/orc_soldier.json: <div class="fragment"><div class="line">{</div>
<div class="line">    &quot;blueprint&quot;: &quot;Orc&quot;,</div>
<div class="line">    &quot;properties&quot;: {</div>
<div class="line">        &quot;Health&quot;: 100</div>
<div class="line">        &quot;Stats&quot;: {</div>
<div class="line">            &quot;Strength&quot;: 75.0,</div>
<div class="line">            &quot;IQ&quot;: 85</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>templates/Orc/orc_brute.json: <div class="fragment"><div class="line">{</div>
<div class="line">    &quot;blueprint&quot;: &quot;Orc&quot;,</div>
<div class="line">    &quot;properties&quot;: {</div>
<div class="line">        &quot;Health&quot;: 250</div>
<div class="line">        &quot;Stats&quot;: {</div>
<div class="line">            &quot;Strength&quot;: 120.0,</div>
<div class="line">            &quot;IQ&quot;: 44,</div>
<div class="line">            &quot;isLarge&quot;: true</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<p>Instantiating these templates will automatically set the defined properties to a specific value. <br  />
 Note that we don't need to overwrite all default property values in our templates. <br  />
 </p>
<h2><a class="anchor" id="NebulaApplicationGameSystemProperties"></a>
Properties</h2>
<p>Properties are the main way to describe an entity's state. <br  />
Properties are usually declared and defined via .nidl files (Nebula intermediate definition language) and compiled into C++ code via an IDL compiler. <br  />
All properties must be <a href="http://www.cplusplus.com/reference/type_traits/is_trivially_destructible/">trivially destructible</a> and <a href="http://www.cplusplus.com/reference/type_traits/is_trivially_copyable/">trivially copyable</a>. Note that it can still define a constructor or have initilizers in the declaration. The NIDL specification can be found here: <a class="el" href="_nebula_i_d_l.html">Nebula IDL</a> <br  />
 Properties can also be created explicitly via the <a class="el" href="api_8h.html">Game API's</a> <a class="el" href="namespace_game.html#a707bbc5560935318f9169a72b88554ab">CreateProperty</a> function or the <a class="el" href="class_mem_db_1_1_type_registry.html#a507d38e0d8748cf5194a1dba19da3528" title="register a type (templated)">MemDb::TypeRegistry::Register</a> (typesafe) function. When explicitly creating a property, you can choose to flag the property with various flags. These flags can for example alter the lifetime of the property, allowing certain managers to clean up external resources before an entity is fully destroyed.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_game_1_1_property_create_info.html" title="Used to create a property.">Game::PropertyCreateInfo</a> </dd>
<dd>
<a class="el" href="namespace_game.html#abf20a860953ef4305fa8a8cfa5faa3df" title="Specifies special behaviour for a property.">Game::PropertyFlags</a> </dd>
<dd>
<a class="el" href="class_mem_db_1_1_type_registry.html#a507d38e0d8748cf5194a1dba19da3528" title="register a type (templated)">MemDb::TypeRegistry::Register</a></dd></dl>
<h2><a class="anchor" id="NebulaApplicationGameManagers"></a>
Game Managers</h2>
<p>Managers are defined via a simple function API. They are meant to care about "specific global stuff" and should be defined by applications to implement globals aspects of the application (mainly global game play related). Managers should be created and triggered by <a class="el" href="class_game_1_1_feature_unit.html">game features</a>. Their frame event functions are invoked when the gameserver triggers the game feature.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_game_1_1_manager_a_p_i.html" title="A Manager is just a bundle of function pointers to static or global functions that is called by the G...">Game::ManagerAPI</a></dd></dl>
<h2><a class="anchor" id="NebulaApplicationBaseGameFeature"></a>
Base Game Feature</h2>
<p>The <a class="el" href="namespace_base_game_feature.html">BaseGameFeature</a> is integral to the Nebula entity system and sets up the <a class="el" href="class_game_1_1_entity_manager.html">entity</a>, <a class="el" href="class_game_1_1_blueprint_manager.html">blueprint</a> and <a class="el" href="namespace_game_1_1_time_manager.html">time</a> managers. These managers supply the runtime with the core management needed for the entity system, and this feature should most likely always be attached to the <a class="el" href="class_game_1_1_game_server.html">game server</a> upon application startup.</p>
<h2><a class="anchor" id="NebulaApplicationGraphicsFeature"></a>
Graphics Feature</h2>
<p>The <a class="el" href="namespace_graphics_feature.html">GraphicsFeature</a> automatically sets up the core rendering subsystem and initializes tons of boilerplate so that you won't have to. The feature also creates a number of useful properties and managers that allow you to easily render models, animations, particles etc.</p>
<h2><a class="anchor" id="NebulaApplicationSeeAlso"></a>
See also</h2>
<p><a class="el" href="api_8h.html">api.h</a> <br  />
<a class="el" href="namespace_game.html">Game</a> <br  />
<a class="el" href="namespace_base_game_feature.html">BaseGameFeature</a> <br  />
<a class="el" href="namespace_graphics_feature.html">GraphicsFeature</a> <br  />
<a class="el" href="namespace_physics_feature.html">PhysicsFeature</a> <br  />
<a class="el" href="namespace_mem_db.html">MemDb</a> <br  />
</p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="footer">
					Generated on Sun Jan 17 2021 19:27:36 for Nebula. Dark theme by <a href="http://majerle.eu" target="_new">Tilen Majerle</a>. All rights reserved.
				</li>
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>
