<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.9.0"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Nebula: Application</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">Nebula
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.9.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_nebula_application.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The nebula application layer provides high level application utilities, such as gameplay systems.</p>
<h1><a class="anchor" id="NebulaApplicationGameSystem"></a>
Game system</h1>
<p>Nebula uses a database oriented approach to storing game entities and their respective properties.</p>
<p>The entity system currently consists of a couple of databases, the most important one being the world database. <br  />
The world database contains all entity data for active entities. <br  />
Properties are what define the entities' data. When an entity is created with a unique combination of properties, a new table will be created in the world database. These tables are referred to as entity "Categories". <br  />
Entity behaviour and logic is expressed via "managers" and "processors" that query the database for entities that fulfill certain property requirements, and then process each entity based on their properties states.</p>
<h2><a class="anchor" id="NebulaApplicationGameSystemEntities"></a>
Entities, Blueprints and Templates</h2>
<p>Entities are simply integer identifiers that are mapped to a category, and row within the category table. Entities are commonly created by instantiating data-driven blueprints and/or templates. <br  />
Blueprints are essentially category descriptions that just describe a named collection of properties. <br  />
Templates are derived from blueprints and describe specific property values for an instantiation of a entity. <br  />
Lets take an example: <br  />
 We declare an "Orc" blueprint that consists of four properties: Position, Health, Strength and Target.</p><ul>
<li>example_blueprints.json: <div class="fragment"><div class="line">{</div>
<div class="line">    &quot;blueprints&quot;: {</div>
<div class="line">        &quot;Orc&quot;: {</div>
<div class="line">            &quot;desc&quot;: &quot;A mean and green orc.&quot;,</div>
<div class="line">            &quot;properties&quot;: [</div>
<div class="line">                &quot;Position&quot;,</div>
<div class="line">                &quot;Health&quot;,</div>
<div class="line">                &quot;Stats&quot;,</div>
<div class="line">                &quot;Target&quot;</div>
<div class="line">            ]</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<p>Each and every instantiation of this Orc would have the same values (default set by the property definition) but we might want to have multiple different types of orcs. This is where we can use templates.</p><ul>
<li>templates/Orc/orc_soldier.json: <div class="fragment"><div class="line">{</div>
<div class="line">    &quot;blueprint&quot;: &quot;Orc&quot;,</div>
<div class="line">    &quot;properties&quot;: {</div>
<div class="line">        &quot;Health&quot;: 100</div>
<div class="line">        &quot;Stats&quot;: {</div>
<div class="line">            &quot;Strength&quot;: 75.0,</div>
<div class="line">            &quot;IQ&quot;: 85</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>templates/Orc/orc_brute.json: <div class="fragment"><div class="line">{</div>
<div class="line">    &quot;blueprint&quot;: &quot;Orc&quot;,</div>
<div class="line">    &quot;properties&quot;: {</div>
<div class="line">        &quot;Health&quot;: 250</div>
<div class="line">        &quot;Stats&quot;: {</div>
<div class="line">            &quot;Strength&quot;: 120.0,</div>
<div class="line">            &quot;IQ&quot;: 44,</div>
<div class="line">            &quot;isLarge&quot;: true</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<p>Instantiating these templates will automatically set the defined properties to a specific value. <br  />
 Note that we don't need to overwrite all default property values in our templates. <br  />
 </p>
<h2><a class="anchor" id="NebulaApplicationGameSystemProperties"></a>
Properties</h2>
<p>Properties are the main way to describe an entity's state. <br  />
Properties are declared and defined via .nidl files (Nebula intermediate definition language) and compiled into C++ code via an IDL compiler. <br  />
 The NIDL specification can be found here: <a class="el" href="_nebula_i_d_l.html">Nebula IDL</a> <br  />
 TODO: write about property flags, managed properties, etc.</p>
<h3><a class="anchor" id="NebulaApplicationSeeAlso"></a>
See also</h3>
<p><a class="el" href="api_8h.html">api.h</a> <br  />
<a class="el" href="namespace_mem_db.html">MemDb</a> <br  />
<a class="el" href="namespace_base_game_feature.html">BaseGameFeature</a> <br  />
</p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="footer">
					Generated on Sun Jan 17 2021 09:18:43 for Nebula. Dark theme by <a href="http://majerle.eu" target="_new">Tilen Majerle</a>. All rights reserved.
				</li>
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>
