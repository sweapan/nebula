<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.9.0"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Nebula: Nebula IDL</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectalign" style="padding-left: 0.5em;">
							<div id="projectname">Nebula
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.9.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_nebula_i_d_l.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Nebula IDL </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Nebula Intermediate Definition Language (NIDL) can be used to generate C++ code for Properties.</p>
<p>NIDL uses JSON but also supports comments using <code>//</code>.</p>
<h1><a class="anchor" id="NebulaIDLHeaders"></a>
Generated headers</h1>
<p>When generating code from NIDL files, the files are placed in the <code>fips-build/{PROJECT}/{FIPS-CONFIG}/nidl</code> directory. In C++ code, you can include them as if they were placed in the same directory as the .nidl file.</p>
<p>Example: <br  />
NIDL file: <code>nebula-demo/code/properties/movement.nidl</code> <br  />
C++ include: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;properties/movement.h&quot;</span></div>
</div><!-- fragment --><h1><a class="anchor" id="NebulaIDLSchema"></a>
NIDL files</h1>
<ol type="1">
<li><a class="el" href="_nebula_i_d_l.html#NIDLNamespace">Namespace</a></li>
<li><a class="el" href="_nebula_i_d_l.html#NIDLIncludes">Includes</a></li>
<li><a class="el" href="_nebula_i_d_l.html#NIDLDependencies">Dependencies</a></li>
<li><a class="el" href="_nebula_i_d_l.html#NIDLEnumeratedTypes">Enumerated types</a></li>
<li><a class="el" href="_nebula_i_d_l.html#NIDLProperties">Properties</a></li>
</ol>
<h2><a class="anchor" id="NIDLNamespace"></a>
Namespace</h2>
<div class="fragment"><div class="line">&quot;namespace&quot;: &quot;GraphicsFeature&quot;</div>
</div><!-- fragment --><p>Denotes the namespace for this NIDL file.</p>
<p>Generated types will use this namespace.</p>
<h2><a class="anchor" id="NIDLIncludes"></a>
Includes</h2>
<div class="fragment"><div class="line">&quot;includes&quot;: [</div>
<div class="line">    &quot;math/mat4.h&quot;</div>
<div class="line">    &quot;math/vec4.h&quot;</div>
<div class="line">]</div>
</div><!-- fragment --><p>Includes any header specified within the generated files.</p>
<h2><a class="anchor" id="NIDLDependencies"></a>
Dependencies</h2>
<div class="fragment"><div class="line">&quot;dependencies&quot;: [</div>
<div class="line">    &quot;scripting/attributes.nidl&quot;</div>
<div class="line">    &quot;graphics/graphicsattr.nidl&quot;</div>
<div class="line">]</div>
</div><!-- fragment --><p>Every dependency declared will have its content exposed to this file.</p>
<p>Dependencies are generated first.</p>
<h2><a class="anchor" id="NIDLEnumeratedTypes"></a>
Enumerated types</h2>
<div class="fragment"><div class="line">&quot;enums&quot;: {</div>
<div class="line">    &quot;GraphicsSettings&quot;: {</div>
<div class="line">        &quot;LOW&quot;: 0</div>
<div class="line">        &quot;MEDIUM&quot;: 1</div>
<div class="line">        &quot;HIGH&quot;: 2</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Declares enumerated types. These can be used as types within properties.</p>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000001">Bug:</a></b></dt><dd>When used as types in properties, the namespace has to be prepended: "Namespace::EnumType".</dd></dl>
<h2><a class="anchor" id="NIDLProperties"></a>
Properties</h2>
<div class="fragment"><div class="line">&quot;properties&quot;: {</div>
<div class="line">    &quot;Health&quot;: &quot;float&quot;, // just a regular type</div>
<div class="line">    &quot;Stats&quot;: { // struct</div>
<div class="line">        &quot;Strength&quot;: &quot;float&quot;,</div>
<div class="line">        &quot;IQ&quot;: &quot;int&quot;,</div>
<div class="line">        &quot;isLarge&quot;: {</div>
<div class="line">            &quot;_type_&quot;: &quot;bool&quot;,</div>
<div class="line">            &quot;_default_&quot;: false</div>
<div class="line">        }</div>
<div class="line">    },</div>
<div class="line">    &quot;Target&quot;: { // detailed type, not aggregate/struct</div>
<div class="line">        &quot;_type_&quot;: &quot;Game::Entity&quot;,</div>
<div class="line">        &quot;_default_&quot;: -1,</div>
<div class="line">        &quot;_desc_&quot;: &quot;Target entity to attack.&quot;</div>
<div class="line">    },</div>
<div class="line">    &quot;Movable&quot;: &quot;_flag_&quot; // a flag type, will not allocate memory per instance and cannot have a value.</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="NIDLPropertiesLayout"></a>
Layout</h3>
<ul>
<li>typedef property <div class="fragment"><div class="line">NAME: Type</div>
</div><!-- fragment --></li>
<li>POD struct property: <div class="fragment"><div class="line">NAME: {</div>
<div class="line">    fieldName: Type,</div>
<div class="line">    fieldName: Type,</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<p><code>Type</code> can either be:</p><ul>
<li>A string or object that declares the type or struct</li>
<li>A object that contains either:<ul>
<li>Special fields<ul>
<li>"_type_": A string or object that declares the type or struct</li>
<li>"_default_": A default value</li>
<li>"_desc_": A string comment that describes the property</li>
</ul>
</li>
<li>or multiple <code>Type</code>s, denoting a struct type.</li>
</ul>
</li>
</ul>
<p>Properties are compiled into C++ structs that can be serialized and deserialized easily. Properties can be added to categories and used to store entities states.</p>
<p>Built in scalar-types are:</p>
<ul>
<li>8 bit: <code>byte</code>, <code>bool</code></li>
<li>16 bit: <code>short</code>, <code>ushort</code></li>
<li>32 bit: <code>int</code>, <code>uint</code>, <code>float</code></li>
<li>64 bit: <code>int64</code>, <code>uint64</code>, <code>double</code></li>
</ul>
<p>Built in non-scalar types are:</p>
<ul>
<li><code>vec2</code> - 2D vector of 32-bit floats.</li>
<li><code>vec3</code> - 3D vector of 32-bit floats*.<ul>
<li>* Uses 4x32 bits of memory because of SIMD reasons, only 3 components are usable however).</li>
</ul>
</li>
<li><code>vec4</code> - 4D vector of 32-bit floats.</li>
<li><code>vector</code> - 4D vector of 32-bit floats*.<ul>
<li>w value (4th) is always 0. Useful for normals and directional vectors.</li>
</ul>
</li>
<li><code>point</code> - 4D vector of 32-bit floats.<ul>
<li>w value (4th) is always 1. Denotes points in 3d space.</li>
</ul>
</li>
<li><code>mat4</code> - 4x4 matrix of 32-bit floats.</li>
<li><code>quat</code> - A quaternion with 32-bit floats.</li>
<li><code>resource</code> - A path to a resource.</li>
</ul>
<p>Additional types are:</p>
<ul>
<li><code>_flag_</code> - Create a flag type property that will not allocate memory per instance and cannot have a value. This is useful for categorizing entities, for example Static vs Dynamic entities.</li>
<li><code>Enumerated type</code> - Any enumerated type defined in a NIDL file can be used as type.</li>
<li><code>C++ type</code><ul>
<li>Any included C++ headers types can be used as type. Note that C++ type must be trivially destructible and trivially copyable.</li>
<li>The type serializers must be manually created. Check the generated NIDL headers and source files for examples (<code>fips-build/{PROJECT}/{FIPS-CONFIG}/nidl</code>).</li>
<li>It is required that the type includes its namespace.</li>
</ul>
</li>
</ul>
<p>The <code>_default_</code> value can be specified as:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">type   </th><th class="markdownTableHeadRight">value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Integers   </td><td class="markdownTableBodyRight"><code>10</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Floats   </td><td class="markdownTableBodyRight"><code>3.0</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">vec2   </td><td class="markdownTableBodyRight"><code>[1.0, 0.2]</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">vec4   </td><td class="markdownTableBodyRight"><code>[1.3, 20.0, 3.12, 4.0]</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">vector   </td><td class="markdownTableBodyRight"><code>[1.0, 2.0, 3.0]</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">point   </td><td class="markdownTableBodyRight"><code>[1.0, 2.0, 3.0]</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">quat   </td><td class="markdownTableBodyRight"><code>[0.0, 0.0, 0.0, 1.0]</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">mat4   </td><td class="markdownTableBodyRight"><code>[1,0,0,0,0,1,...]</code> (16 floats)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">resource   </td><td class="markdownTableBodyRight"><code>"mdl:system/placeholder.n3"</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Enum Type   </td><td class="markdownTableBodyRight">Integer or String   </td></tr>
</table>
<p>The default values for different types (usually zero or identity) can be found in <code>{NEBULA-ROOT}/fips-files/generators/IDLC/idltypes.py</code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="navelem"><a class="el" href="_nebula_application.html">Application</a></li>
				<li class="footer">
					Generated on Mon Jan 18 2021 12:22:39 for Nebula. Dark theme by <a href="http://majerle.eu" target="_new">Tilen Majerle</a>. All rights reserved.
				</li>
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>
